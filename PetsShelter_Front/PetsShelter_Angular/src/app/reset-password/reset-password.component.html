<app-navbar></app-navbar>

<div class="app-background center text-light p-5">

  <div class="text-center">
    <h2> Resetowanie hasła</h2>
  </div>

  <div *ngIf="hasResetSend == false; then resetPassword; else sentResetPassword">

  </div>

</div>


<ng-template #resetPassword>

  <div class="text-center px-7 pt-2">
    <h4> Podaj imię oraz adres e-mail, na które zarejestrowałeś swoje konto. Na podany adres e-mail zostanie wysłane nowe hasło</h4>
  </div>

  <div class="row justify-content-center px-6 pt-5">
    <div class="col-lg-5 rounded ">

      <div class="text-light">

        <form class="form" [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()">

          <label for="name" class="form-label m-2">Imię:</label>
          <input type="text" class="form-control" id="name" placeholder="" name="name" formControlName = "name">

          <div class="text-danger p-1" *ngIf="resetPasswordForm.get('name')?.hasError('required') &&
          (resetPasswordForm.get('name')?.dirty ||
          resetPasswordForm.get('name')?.touched ||
            hasSubmitted)">Imię jest wymagane</div>

          <label for="task-title" class="form-label m-2">E-mail:</label>
          <input type="email" class="form-control" id="task-title" placeholder="" name="task-title" formControlName = "email">

          <div class="text-danger p-1" *ngIf="resetPasswordForm.get('email')?.hasError('required') &&
          (resetPasswordForm.get('email')?.dirty ||
          resetPasswordForm.get('email')?.touched ||
            hasSubmitted)">E-mail jest wymagany</div>

            <div class="text-danger p-1" *ngIf="resetPasswordForm.get('email')?.hasError('email') &&
          (resetPasswordForm.get('email')?.dirty ||
          resetPasswordForm.get('email')?.touched ||
            hasSubmitted)">Wpisz poprawny adres e-mail</div>

          <div class="text-danger p-1" *ngIf="error">
            Nie istnieje konto na powyższe dane!
          </div>

          <div class="text-center m-4">
            <button type="submit" class="btn btn-warning">Wyślij</button>
          </div>

        </form>

      </div>

    </div>
  </div>

</ng-template>

<ng-template #sentResetPassword>

  <div class="text-center px-7 pt-2">
    <h4> Na podany adres e-mail zostało wysłane nowe hasło.</h4>
  </div>

  <div class="d-flex justify-content-center pt-4">
    <div class="p-2 center px-7">
      <button type="button" class="btn text-light btn-rounded" style="background-color:#6a994e" routerLink="/login"> Powrót do logowania </button>
    </div>
  </div>



</ng-template>



